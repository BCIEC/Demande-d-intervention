
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Demander un devis</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background:#f5f7fa;
        margin:0;
        padding:0;
    }

    h1 {
        text-align:center;
        font-size:26px;
        margin:30px 0 10px 0;
       :6px;
        box-shadow:0 2px 6px rgba(0,0,0,0.15);
        overflow:hidden;
    }

    .section-title {
        background:#0099ff;
        color:white;
        padding:12px;
        font-size:18px;
        font-weight:bold;
    }

    .content {
        padding:20px;
    }

    label {
        font-weight:bold;
        display:block;
        margin-bottom:6px;
        color:#333;
    }

    input, textarea {
        width:100%;
        padding:10px;
        border:1px solid #ccc;
        border-radius:5px;
        font-size:15px;
        margin-bottom:20px;
        box-sizing:border-box;
    }

    textarea {
        min-height:100px;
        resize:vertical;
    }

    .row {
        display:flex;
        gap:20px;
        margin-bottom:15px;
    }

    .col {
        flex:1;
    }

    .drop-zone {
        border:2px dashed #0099ff;
        text-align:center;
        padding:20px;
        border-radius:6px;
        color:#444;
        cursor:pointer;
        margin-top:10px;
    }

    .drop-zone:hover {
        background:#f0f8ff;
    }

    .btn-row {
        width:90%;
        max-width:1000px;
        margin:30px auto;
        display:flex;
        justify-content:flex-end;
        gap:15px;
    }

    .btn {
        padding:10px 20px;
        border:none;
        border-radius:5px;
        cursor:pointer;
        font-size:16px;
    }

    .btn-cancel {
        background:#e5e5e5;
    }

    .btn-save {
        background:#0099ff;
        color:white;
    }
</style>
</head>

<body>

<h1>Demander un devis</h1>

<!-- VOTRE DEMANDE -->
<div class="section">
    <div class="section-title">Votre Demande</div>
    <div class="content">

        <label for="installation">Recherche installation *</label>
        <input type="text" id="installation" placeholder="Saisir une installation..." required>

        <label for="objet">Objet de la demande *</label>
        <input type="text" id="objet" required>

        <label for="description">Description de la demande *</label>
        <textarea id="description" placeholder="Renseignez votre description ici..." required></textarea>

        <p>Vous pouvez d√©poser jusqu‚Äô√† 5 fichiers (max 50 Mo) ‚Äì formats : PDF, JPG, PNG, DOCX, PPTX‚Ä¶</p>

        <div class="drop-zone" onclick="document.getElementById('files').click()">
            üì§ <strong>Charger des fichiers</strong><br>ou d√©poser des fichiers
        </div>
        <input type="file" id="files" multiple style="display:none;">
    </div>
</div>

<!-- COORDONN√âES -->
<div class="section">
    <div class="section-title">Coordonn√©es de la personne concern√©e</div>
    <div class="content">

        <div class="row">
            <div class="col">
                <label for="demandeur">Demandeur *</label>
                <input type="text" id="demandeur" required>
            </div>
            <div class="col">
                <label for="telephone">T√©l√©phone du demandeur *</label>
                <input type="tel" id="telephone" required>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label for="email">Email du demandeur *</label>
                <input type="email" id="email" required>
            </div>
            <div class="col">
                <label for="mobile">T√©l√©phone mobile</label>
                <input type="tel" id="mobile">
            </div>
        </div>

    </div>
</div>

<!-- BOUTONS -->
<div class="btn-row">
    <button class="btn btn-cancel" onclick="window.location.reload()">Annuler</button>
    <button class="btn btn-save" onclick="envoyer()">Enregistrer</button>
</div>

<script>
function envoyer() {

    const installation = document.getElementById("installation").value;
    const objet = document.getElementById("objet").value;
    const description = document.getElementById("description").value;
    const demandeur = document.getElementById("demandeur").value;
    const telephone = document.getElementById("telephone").value;
    const email = document.getElementById("email").value;
    const mobile = document.getElementById("mobile").value;

    if (!installation || !objet || !description || !demandeur || !telephone || !email) {
        alert("Merci de remplir tous les champs obligatoires.");
        return;
    }

    /* ---------- 1) ENVOI VERS POWER AUTOMATE ---------- */
    fetch("https://TON-URL-POWER-AUTOMATE", {
        method: "POST",
        headers: { "Content-Type": "application/json"},
        body: JSON.stringify({
            installation, objet, description,
            demandeur, telephone, email, mobile
        })
    });

    /* ---------- 2) ENVOI MAILTO ---------- */
    let contenu = `Bonjour,

Demande de devis :

‚Ä¢ Installation : ${installation}
‚Ä¢ Objet : ${objet}
‚Ä¢ Description : ${description}

Demandeur :
‚Ä¢ Nom : ${demandeur}
‚Ä¢ T√©l√©phone : ${telephone}
‚Ä¢ Email : ${email}
‚Ä¢ Mobile : ${mobile}

Merci.`;

    const mail = "mailto:contact@tonentreprise.fr"
        + "?subject=" + encodeURIComponent("Demande de devis - " + objet)
        + "&body=" + encodeURIComponent(contenu);

    window.location.href = mail;
}
</script>

</body>
</html>
